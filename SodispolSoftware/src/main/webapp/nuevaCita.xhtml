<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Sodispol_Paciente - Dispensario Médico</title>
        <link rel="stylesheet" href="resources/cssBoostrap/bootstrap.css"/>
        <link rel="Stylesheet" href="resources/css/estilo01.css"/>
        <link href="http://fonts.googleapis.com/css?family=Duru+Sans" rel="styleshee" type="text/css"/>
        <!--<script src="http://code.jquery.com/jquery.js"></script>-->
        <script src="resources/js/bootstrap.js"></script>
        <script src="resources/js/main.js"></script>
    </h:head>
    <h:body>
        <header >
            <ui:include src="/resources/templates/header.xhtml"/>
        </header>


        <nav class="navbar navbar-default color1 ancho1 center" role="navigation">
            <ui:include src="/resources/templates/navMedico.xhtml"/>
        </nav>

        <div class="container ancho1">
            <div class="row">
                <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5  alturaEjemplo">
                    <section class="margen_izquierdo2">
                        <h3 class="margen_top4"><p>Buscar Paciente</p></h3>

                        <h:form>
                            <p:growl id="growl" life="2000" />
                            <h:panelGrid columns="1" class=" ancho2 margen_top3">
                                <p:selectOneRadio  id="tipoBusqueda" style="width: 40%" value="#{citaBean.tipoBusqueda}" required="true">
                                    <f:selectItem itemLabel="Matrícula" itemValue="matricula" />
                                    <f:selectItem itemLabel="Cédula" itemValue="cedula" />
                                </p:selectOneRadio>
                            </h:panelGrid>
                            <h:panelGrid columns="1" class=" ancho2 margen_top3" >
                                <p:focus for="paramBusqueda" />
                                <p:inputText id="paramBusqueda" maxlength="15" style="width: 60%" value="#{citaBean.paramBusqueda}" required="true"/>
                                <p:commandButton  value="Buscar Paciente" id="buscarPaciente" update="growl" actionListener="#{citaBean.buttonAction}" styleClass="ui-priority-primary margen_top3">
                                    <p:ajax process="@this,paramBusqueda,tipoBusqueda" update=":infoCita" listener="#{citaBean.consultar()}" />
                                </p:commandButton>

                            </h:panelGrid>

                        </h:form>

                    </section>
                </div>
                <h:form id="infoCita">
                    
                <div class="col-xs-12 col-sm-7 col-md-7 col-lg-7 ">
                    <div class="col-md-1"></div>
                    <div class="col-md-9">
                        <div class="row ancho2 margen_top3" style="font-size: x-large" >
                            <h:outputLabel value="Datos de la Cita Médica:" />
                        </div>
                        <div class="row ancho2 margen_top4" style="font-size: medium" >
                            <div class="col-md-3">
                                <h:outputLabel value="Datos de la Cita Médica:" />
                            </div>
                            <div class="col-md-9">
                                <p:inputText value="#{citaBean.estudiante.nombre1} #{citaBean.estudiante.apellido1} #{citaBean.numDoctores}" maxlength="15" style="width: 60%" /> 
                            </div>
                        </div>
                        <div class="row ancho2 margen_top2" style="font-size: medium">
                            <div class="col-md-3">
                                <h:outputLabel for="medico" value="Médico:" />
                            </div>
                            <div class="col-md-9">
                                <p:selectOneMenu id="selectMedico" value="#{citaBean.doctorUsername}">
                                    <f:selectItem itemLabel="-- Escoja un Médico --" itemValue="" />
                                    <c:forEach items="#{citaBean.consultaDoctores}" var="doctor" >
                                        <f:selectItem itemLabel="#{doctor.username}" itemValue="#{doctor.username}" />
                                    </c:forEach>
                                </p:selectOneMenu>
                                <!--<p:inputText  maxlength="15" style="width: 60%"/>-->
                            </div>
                        </div>
                        <div class="row ancho2 margen_top2" style="font-size: medium">
                            <div class="col-md-3">
                                <h:outputLabel for="fecha" value="Fecha:" />
                            </div>
                            <div class="col-md-9">
                                <p:calendar id="datetime" value="#{citaBean.fecha}" pattern="dd-MM-yyyy HH:mm" />
                            </div>
                        </div>
                        <!--<div class="row ancho2 margen_top2" style="font-size: medium">
                            <div class="col-md-3">
                                <h:outputLabel for="hora" value="Hora:" />
                            </div>
                            <div class="col-md-9">
                                <p:calendar id="time" value="#{citaBean.hora}" pattern="HH:mm a" timeOnly="true"  />
                            </div>
                        </div>-->
                        <div class="row ancho2 margen_top1" style="font-size: medium" >
                            <p:commandButton  value="Guardar" id="guardarCita" action="#{citaBean.guardarCita(actionEvent)}" styleClass="ui-priority-primary margen_top3"/>

                        </div>
                    </div>                                  
                    <div class="col-md-1"></div>
                </div>
                </h:form>
            </div>
        </div>

        <footer class="margen_top2 color1">
            <ui:include src="/resources/templates/footer.xhtml"/>
        </footer>

    </h:body>
</html>
