<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Sodispol_Paciente - Dispensario Médico</title>
        <link rel="stylesheet" href="resources/cssBoostrap/bootstrap.css"/>
        <link rel="Stylesheet" href="resources/css/estilo01.css"/>
        <link href="http://fonts.googleapis.com/css?family=Duru+Sans" rel="styleshee" type="text/css"/>
        <!--<script src="http://code.jquery.com/jquery.js"></script>-->
        <script src="resources/js/bootstrap.js"></script>
        <script src="resources/js/main.js"></script>
    </h:head>
    <h:body>
        <div class="wrapper">
            <header>
                <ui:include src="/resources/templates/header.xhtml"/>
            </header>


            <nav class="navbar navbar-default color1 ancho1 center" role="navigation">
                <ui:include src="/resources/templates/navMedico.xhtml"/>
            </nav>

            <div class="container ancho1">
                <div class="row">
                    <div class="col-xs-12 col-sm-5 col-md-5 col-lg-2">
                        <section class="margen_top4 margen_izquierdo2">
                            <c:if test="#{detallesFichaEstudianteBean.estudiante!=null}">
                                <p:graphicImage url="#{detallesFichaEstudianteBean.estudiante.foto}" width="120em"/>
                            </c:if>
                        </section>
                    </div>
                    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-5">
                        <section>
                            <h:form >
                                <h:panelGrid columns="4" style="font-size: smaller" class=" ancho2 margen_top3">
                                    <h:outputLabel value="Nombre:"/>
                                    <h:outputLabel value="#{detallesFichaEstudianteBean.estudiante}"/>
                                    <h:outputLabel value="Teléfono:"/>
                                    <h:outputLabel value="#{detallesFichaEstudianteBean.estudiante.telefono}"/>
                                    <h:outputLabel value="Matrícula:"/>
                                    <h:outputLabel value="#{detallesFichaEstudianteBean.estudiante.matricula}"/>
                                    <h:outputLabel value="Cédula:"/>
                                    <h:outputLabel value="#{detallesFichaEstudianteBean.estudiante.cedula}"/>
                                    <h:outputLabel value="Carrera:"/>
                                    <h:outputLabel value="#{detallesFichaEstudianteBean.estudiante.carrera}"/>
                                    <h:outputLabel value="Estado Civíl:"/>
                                    <h:outputLabel value="#{detallesFichaEstudianteBean.estudiante.estadocivil}"/>
                                </h:panelGrid>

                            </h:form>
                        </section>
                    </div>
                </div>
                <p:panel id="observacionesA" style="background-color: transparent!important;border: transparent">
                    <div class="row margen_top2">
                        <c:forEach items="#{detallesFichaEstudianteBean.detallesAnteriores}" var="observaciones">
                            <div class="col-xs-12 col-sm-5 col-md-5 col-lg-6">

                                <p:panel id="toggleable#{observaciones.iddetalleficha}" header="Observacion #{observaciones.fecha.time.toLocaleString()}" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel#{observaciones.iddetalleficha}" style="margin-bottom:20px">
                                        <p:ajax event="close" listener="#{panelView.onClose}" />
                                        <p:ajax event="toggle" listener="#{panelView.onToggle}"/>
                                        <h:panelGrid columns="4" style="font-size: smaller" class="ancho2">
                                        <h:outputLabel value="Doctor:"/>
                                        <h:outputLabel value="#{observaciones.doctor}"/>
                                        <h:outputLabel value="Estatura:"/>
                                        <h:outputLabel value="#{observaciones.estatura} m"/>
                                        <h:outputLabel value="Peso:"/>
                                        <h:outputLabel value="#{observaciones.peso} Kg"/>
                                        <h:outputLabel value="Presión Arterial:"/>
                                        <h:outputLabel value="#{observaciones.presionarterial}"/>
                                        <h:outputLabel value="Pulso:"/>
                                        <h:outputLabel value="#{observaciones.pulso} p.p.m"/>

                                    </h:panelGrid>
                                    <!--<f:facet name="options">
                                        <p:menu>
                                            <p:submenu label="Settings">
                                                <p:menuitem value="Abrir" url="nuevaObservacion.xhtml" icon="ui-icon-document">
                                                    <f:param name="modificador" value="0" />
                                                </p:menuitem>
                                                <p:menuitem value="Toggle" url="#" icon="ui-icon-newwin" onclick="PF('panel').toggle()" />
                                                <p:menuitem value="Remove" url="#" icon="ui-icon-close" onclick="PF('panel').close()" />
                                            </p:submenu>
                                         </p:menu>
                                     </f:facet>-->
                                    <f:facet name="actions">
                                        <h:outputLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" value="observacion.xhtml">
                                            <h:outputText styleClass="ui-icon ui-icon-document" />
                                            <f:param name="modificador" value="0" />
                                            <f:param name="iddetalleFicha" value="#{observaciones.iddetalleficha}" />
                                        </h:outputLink>
                                    </f:facet>
                                </p:panel>

                            </div> 
                        </c:forEach>
                    </div>
                </p:panel>
                <h:form>
                    <c:forEach begin="1" end="#{detallesFichaEstudianteBean.numButtons}" var="num" >

                        <p:commandButton  value="#{num}" styleClass="paginacion_boton">
                            <p:ajax process="@this" update=":observacionesA" listener="#{detallesFichaEstudianteBean.paginarObservacionesAnteriores(num)}"/>
                        </p:commandButton>  

                    </c:forEach>
                </h:form>
            </div>
        </div>
        <footer class="margen_top2 color1">
            <ui:include src="/resources/templates/footer.xhtml"/>
        </footer>

    </h:body>
</html>
