<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:compositeComponents="http://java.sun.com/jsf/composite/compositeComponents">
    <h:head>
        <title>Sodispol_Paciente - Dispensario Médico</title>
        <link rel="stylesheet" href="resources/cssBoostrap/bootstrap.css"/>
        <link rel="Stylesheet" href="resources/css/estilo01.css"/>
        <link href="http://fonts.googleapis.com/css?family=Duru+Sans" rel="styleshee" type="text/css"/>
        <!--<script src="http://code.jquery.com/jquery.js"></script>-->
        <script src="resources/js/bootstrap.js"></script>
        <script src="resources/js/main.js"></script>
    </h:head>

    <h:body>
        <div class="wrapper">
            <header >
                <ui:include src="/resources/templates/header.xhtml"/>
            </header>

            <nav class="navbar navbar-default color1 ancho1 center" role="navigation">
                <ui:include src="/resources/templates/navMedico.xhtml"/>
            </nav>

            <div class="container ancho2">
                <div class="row ancho80" style="margin: auto">
                    <div class="col-xs-12 col-sm-5 col-md-5 col-lg-2">
                        <section class="margen_top4 margen_izquierdo2">
                            <p:graphicImage url="#{fichaEstudianteBean.estudiante.foto}" width="120em"/>
                        </section>
                    </div>
                    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-6">
                        <section>
                            <h:form>
                                <h:panelGrid columns="4" style="font-size: smaller" class=" ancho2 margen_top3">
                                    <h:outputLabel value="Nombre:"/>
                                    <h:outputLabel value="#{fichaEstudianteBean.estudiante.nombres}"/>
                                    <h:outputLabel value="Teléfono:"/>
                                    <h:outputLabel value="#{fichaEstudianteBean.estudiante.telefono}"/>
                                    <h:outputLabel value="Matrícula:"/>
                                    <h:outputLabel value="#{fichaEstudianteBean.estudiante.matricula}"/>
                                    <h:outputLabel value="Cédula:"/>
                                    <h:outputLabel value="#{fichaEstudianteBean.estudiante.cedula}"/>
                                    <h:outputLabel value="Carrera:"/>
                                    <h:outputLabel value="#{fichaEstudianteBean.estudiante.carrera}"/>
                                    <h:outputLabel value="Estado Civíl:"/>
                                    <h:outputLabel value="#{fichaEstudianteBean.estudiante.estadocivil}"/>
                                </h:panelGrid>

                            </h:form>
                        </section>
                    </div>
                </div>

                <div class="row margen_top2">
                    <div class="ancho70" style="margin: auto">
                        <h:form>
                            <p:growl id="growl" showDetail="true" sticky="false"  />
                            <!--    Ficha     -->
                            <p:panel id="toggleable1" collapsed="true" header="Ficha Médica" toggleable="true"  toggleSpeed="500" widgetVar="panel1" style="margin-bottom:20px"  styleClass="color6">
                                <ui:include src="/resources/templates/fichaNuevaEstudiante.xhtml"/>
                            </p:panel>

                            <!--     Examen Observacion     -->
                            <p:panel id="toggleable2" collapsed="true" header="Examén Físico #{fichaEstudianteBean.fechaActual}" toggleable="true"  toggleSpeed="500"  widgetVar="panel2" style="margin-bottom:20px"  styleClass="color6">
                                <!--<ui:include src="/resources/templates/examenNuevoEstudiante.xhtml"/>-->
                                <compositeComponents:examenNuevoEstudiante verificador="#{validadorFicha.modificador}"/>
                            </p:panel>

                            <!--     Observaciones anteriores     -->
                            <c:if test="#{validadorFicha.modificador==1}">
                                <p:panel id="toggleable3" header="Observaciones Anteriores" collapsed="true" toggleable="true"  toggleSpeed="500"  widgetVar="panel3" style="margin-bottom:20px"  styleClass="color6">
                                    <p:panel id="observacionesA" >
                                        <div class="color5 ancho2" style="height:15em;overflow-y: scroll ">
                                            <c:forEach items="#{fichaEstudianteBean.observacionesAnteriores}" var="observaciones">
                                                <div class="ancho1 margen_izquierdo2">
                                                    <h5 class="negritas">Observación: #{observaciones[0]} hecha por Dr. #{observaciones[2]}</h5>
                                                    <h5>#{observaciones[1]}</h5>
                                                </div><br/>
                                            </c:forEach>
                                        </div>
                                    </p:panel>
                                    <c:forEach begin="1" end="#{fichaEstudianteBean.numButtons}" var="num" >
                                        <p:commandButton  value="#{num}" styleClass="paginacion_boton">
                                            <p:ajax process="@this" update="observacionesA" listener="#{fichaEstudianteBean.paginarObservacionesAnteriores(num)}"/>
                                        </p:commandButton>    
                                    </c:forEach>
                                </p:panel>
                            </c:if>

                            <!--    Observacion Especifica      -->
                            <p:panel id="toggleable4" header="Observación dada por Dr. #{usuarioBean.doctor}" collapsed="true" toggleable="true"  toggleSpeed="500"  widgetVar="panel4" style="margin-bottom:20px"  styleClass="color6">
                                <c:if test="#{validadorFicha.modificador==1}">
                                    <h:inputTextarea value="#{fichaEstudianteBean.observacion}" class="ancho2" rows="8" required="true" requiredMessage="Se requiere llenar el campo Observación"/>   
                                </c:if>
                                <c:if test="#{validadorFicha.modificador==0}">
                                    <h:inputTextarea class="ancho2" rows="8" readonly="true"/>
                                </c:if>
                            </p:panel>

                            <!--     Recetas     -->
                            <c:if test="#{validadorFicha.modificador==1}">
                                <p:panel id="toggleable5" header="Recetar" toggleable="true"  collapsed="true" toggleSpeed="500"  widgetVar="panel5" style="margin-bottom:20px"  styleClass="color6">
                                    <div style="height: 25em" class="panelBarY">

                                        <p:panelGrid columns="4" >
                                            <h:outputLabel class="" value="Apronax 550mg: "/>
                                            <p:spinner size="2" />
                                            <h:outputLabel value="5 unidades disponibles"/>
                                            <h:outputText value="Emoliente que forma una delicada película que permanece en la piel del bebé,
                                                          protegiéndolo /curándolo de la resequedad y quemaduras producidas por la orina o el 
                                                          frecuente roce con el pañal. Por otra parte contribuye a proteger, prevenir, curar 
                                                          y humectar las grietas que se producen alrededor de los pezones durante la lactancia.
                                                          Beneficios: Emoliente que forma una delicada película que permanece en la piel del
                                                          bebé, protegiéndolo /curándolo de la resequedad y quemaduras producidas por la orina 
                                                          o el frecuente roce con el pañal. Por otra parte contribuye a proteger, prevenir, curar
                                                          y humectar las grietas que se producen alrededor de los pezones durante la lactancia."/>

                                            <h:outputLabel class="" value="Bepanthol: "/>
                                            <p:spinner size="2" />
                                            <h:outputLabel value="5 unidades disponibles"/>
                                            <h:outputText value="Apronax® (Naproxeno sódico), es un fármaco antiinflamatorio no esteroidal (AINE)
                                                          , con propiedades analgésicas, antiinflamatorias y antipiréticas. El mecanismo de acción
                                                          con Apronax® (Naproxeno sódico) es mediante bloqueo de cicloxigenasa consecuentemente se
                                                          disminuye la síntesis de prostaglandinas, mediadoras de la inflamación. Sin embargo, como
                                                          otros AINEs, el mecanismo exacto de acción aún no es suficientemente conocido. No deprime
                                                          el sistema nervioso central, por no ser narcótico ni inductor del metabolismo enzimático.
                                                          Apronax® por ser muy soluble en el agua, es rápida y completamente absorbido en el tracto 
                                                          gastrointestinal luego de su administración oral y por ello se obtienen niveles plasmáticos
                                                          adecuados que permiten iniciar el alivio del dolor dentro de 20 minutos de su administración oral."/>

                                            <h:outputLabel class="" value="Alka-Seltzer: "/>
                                            <p:spinner size="2" />
                                            <h:outputLabel value="5 unidades disponibles"/>
                                            <h:outputText value="Antiácido, coadyuvante en el tratamiento de los transtornos 
                                                          dispéticos agudos, analgésico. Adultos 1 o 2 tabletas en agua. No 
                                                          deben tomarse más de 8 tabletas en 24 horas. Niños: la mitad de la 
                                                          dosis de los adultos. Beneficios: Antiácido, coadyuvante en el tratamiento
                                                          de los transtornos dispéticos agudos, analgésico"/>

                                            <h:outputLabel class="" value="Apronax: "/>
                                            <p:spinner size="2" />
                                            <h:outputLabel value="5 unidades disponibles"/>
                                            <h:outputText value="Emoliente que forma una delicada película que permanece en la piel del bebé,
                                                          protegiéndolo /curándolo de la resequedad y quemaduras producidas por la orina o el 
                                                          frecuente roce con el pañal. Por otra parte contribuye a proteger, prevenir, curar 
                                                          y humectar las grietas que se producen alrededor de los pezones durante la lactancia.
                                                          Beneficios: Emoliente que forma una delicada película que permanece en la piel del
                                                          bebé, protegiéndolo /curándolo de la resequedad y quemaduras producidas por la orina 
                                                          o el frecuente roce con el pañal. Por otra parte contribuye a proteger, prevenir, curar
                                                          y humectar las grietas que se producen alrededor de los pezones durante la lactancia."/>

                                        </p:panelGrid>
                                        <p:commandButton styleClass="margen_top1" value="Validar Disponibilidad"/>
                                        <p:commandButton styleClass="margen_top1" value="Reset"/>

                                    </div>

                                </p:panel>
                            </c:if>


                            <c:if test="#{validadorFicha.modificador==1}">
                                <p:commandButton  value="Guardar" id="buscarPaciente" update="growl" action="#{fichaEstudianteBean.guardar(actionEvent)}"/>
                            </c:if>

                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        <footer class="margen_top2 color1">
            <ui:include src="/resources/templates/footer.xhtml"/>
        </footer>

    </h:body>
</html>
